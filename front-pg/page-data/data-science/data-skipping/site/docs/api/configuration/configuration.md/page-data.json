{"componentChunkName":"component---src-templates-markdown-js","path":"/data-science/data-skipping/site/docs/api/configuration/configuration.md","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"markdownRemark":{"id":"1ec94f4a-07b1-52e1-a71c-5a1ce0f61991","html":"<!--\n -- Copyright 2021 IBM Corp.\n -- SPDX-License-Identifier: Apache-2.0\n -->\n<h1 id=\"configuration\" style=\"position:relative;\"><a href=\"#configuration\" aria-label=\"configuration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration</h1>\n<p>Xskipper enables to configure the instances using JVM wide configtation which applies for all created Xskipper instances.<br>\nIn addition one can set specific configuration for a given instance as described below.</p>\n<p>For the configuration related to the parquet metadatastore see <a href=\"parquet-mdstore-configuration.md\">here</a>.</p>\n<h2 id=\"setting-jvm-wide-configuration\" style=\"position:relative;\"><a href=\"#setting-jvm-wide-configuration\" aria-label=\"setting jvm wide configuration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting JVM wide configuration</h2>\n<p>Use the following to set JVM wide configuration properties for Xskipper instances.<br>\nThese configurations will be applied by default on each new instance.</p>\n<p>=== “Python”</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">``` python\nfrom xskipper import Xskipper\n# TODO: fill with config values\nconf = dict()\nXskipper.setConf(spark, conf)\n```</code></pre></div>\n<p>=== “Scala”</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">``` scala\nimport io.xskipper._\n// TODO: fill with config values\nval conf = Map()\nXskipper.setConf(conf)\n```</code></pre></div>\n<h2 id=\"setting-configuration-for-a-specific-xskipper-instance\" style=\"position:relative;\"><a href=\"#setting-configuration-for-a-specific-xskipper-instance\" aria-label=\"setting configuration for a specific xskipper instance permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting configuration for a specific Xskipper instance</h2>\n<p>Use the following to set the configuration for a specific Xskipper instance</p>\n<p>=== “Python”</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">``` python\n# call set params to make sure it overwrites JVM wide config\n# TODO: fill with config values\nparams = dict()\nxskipper.setParams(params)\n```</code></pre></div>\n<p>=== “Scala”</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">``` scala\nval xskipper = new Xskipper(spark, dataset_location)\n\n// call set params to make sure it overwrites JVM wide config\n// TODO: fill with config values\nval params = Map()\nxskipper.setParams(params)\n```</code></pre></div>\n<h2 id=\"xskipper-properties\" style=\"position:relative;\"><a href=\"#xskipper-properties\" aria-label=\"xskipper properties permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Xskipper properties</h2>\n<table class=\"pf-c-table\">\n<thead>\n<tr>\n<th>Property</th>\n<th>Default</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>io.xskipper.evaluation.enabled</td>\n<td>false</td>\n<td>When true, queries will run in evaluation mode.<br/>When running in evaluation mode all of the indexed dataset will only be processed for skipping stats and no data will be read. The evaluation mode is useful when we want to inspect the skipping stats</td>\n</tr>\n<tr>\n<td>io.xskipper.timeout</td>\n<td>10</td>\n<td>The timeout in minutes to retrieve the indexed objects and the relevant objects for the query from the metadatastore</td>\n</tr>\n<tr>\n<td>io.xskipper.identifierclass</td>\n<td>io.xskipper.utils.<br/>identifier.Identifier</td>\n<td>The fully qualified name of an identifier class to be loaded using reflection used to specify how the table identifier and file ID are determined. For more information see <a href=\"#identifier-class\">here</a>.</td>\n</tr>\n<tr>\n<td>io.xskipper.index.parallelism</td>\n<td>10</td>\n<td>defines the number of concurrent objects that will be indexed</td>\n</tr>\n<tr>\n<td>io.xskipper.index.minchunksize</td>\n<td>1</td>\n<td>Defines the minimum chunk size to be used when indexing. <br/> The chunk size will be multiplied by 2 till reaching the metadataStore upload chunk size</td>\n</tr>\n<tr>\n<td>io.xskipper.index.bloom.fpp</td>\n<td>0.01</td>\n<td>Indicates the bloom filter default fpp</td>\n</tr>\n<tr>\n<td>io.xskipper.index.bloom.ndv</td>\n<td>100000</td>\n<td>Indicates the bloom filter expected number of distinct values</td>\n</tr>\n<tr>\n<td>io.xskipper.index.minmax<br/>.readoptimized.parquet</td>\n<td>true</td>\n<td>Indicates whether the collection of min/max stats for Numeric columns when working with Parquet objects will be done in an optimized way by reading the stats from the Parquet footer</td>\n</tr>\n<tr>\n<td>io.xskipper.index.minmax<br/>.readoptimized.parquet.parallelism</td>\n<td>10000</td>\n<td>The number of objects to be indexed in parallel when having only minmax indexes on parquet objects</td>\n</tr>\n<tr>\n<td>io.xskipper.index.minmax<br/>.inFilterThreshold</td>\n<td>100</td>\n<td>defines number of values in an IN filter above we will push down only one min/max condition based on the min and maximum of the entire list on parquet objects</td>\n</tr>\n<tr>\n<td>io.xskipper.index.memoryFraction</td>\n<td>0.2</td>\n<td>The memory fraction from the driver memory that indexing will use in order to determine the maximum chunk size dynamically</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"identifier-class\" style=\"position:relative;\"><a href=\"#identifier-class\" aria-label=\"identifier class permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Identifier Class</h2>\n<p>Each dataset/table/file that that is indexed by Xskipper is identified by some Identifier.\nThis identifier is used for in order to determine the following:</p>\n<ul class=\"pf-c-list\">\n<li>The file ID for each indexed file - typically the file ID is comprised of the file name concatenated with the last modified time stamp to detect changes since last indexing time.</li>\n<li>Display name for identifiers</li>\n<li>Disply name for paths</li>\n</ul>\n<p>Currently Xskipper supports two implementation of the Identifer class:</p>\n<ul class=\"pf-c-list\">\n<li>\n<p><a href=\"https://github.com/xskipper-io/xskipper/blob/master/src/main/scala/io/xskipper/utils/identifier/Identifier.scala\">Default Identifier</a></p>\n<ul class=\"pf-c-list\">\n<li>The File ID is  - <code class=\"language-text\">&lt;file_name&gt;#&lt;last_modification_time&gt;</code></li>\n<li>The Identifier is the uri after removing a trailing <code class=\"language-text\">/</code> if exists.</li>\n<li>The Path and Display name are the given paths</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://github.com/xskipper-io/xskipper/blob/master/src/main/scala/io/xskipper/utils/identifier/IBMCOSIdentifier.scala\">IBM COS Identifier</a> - differs from the default identifier by</p>\n<ul class=\"pf-c-list\">\n<li>The identifier for IBM COS paths when using <a href=\"https://github.com/CODAIT/stocator\">Stocator</a> is removing the <code class=\"language-text\">service</code> part and keeps the bucket name.<br>\nSo, for example the identifier for <code class=\"language-text\">cos://mybucket.service/path/to/dataset/</code> is <code class=\"language-text\">cos://mybucket/path/to/dataset</code> </li>\n</ul>\n</li>\n</ul>\n<p>For most cases you can use the default implementation, however if you require some custom logic you can add your own implementation for the <a href=\"https://github.com/xskipper-io/xskipper/blob/master/src/main/scala/io/xskipper/utils/identifier/Identifier.scala\">Identifier</a> class (for example, the IBM COS Identifier as an example).<br>\nThe Identifier class is by setting the paramater <code class=\"language-text\">io.xskipper.identifierclass</code> to the and determines the logic for inferring the identifier for each\n</p>","fields":{"srcLink":"https://github.com/xskipper-io/xskipper/blob/master/site/docs/api/configuration/configuration.md"},"frontmatter":{"title":"","description":null,"extraClasses":null}}},"pageContext":{"id":"1ec94f4a-07b1-52e1-a71c-5a1ce0f61991"}},"staticQueryHashes":["117426894","3000541721","3606484676","533861647"]}